{"remainingRequest":"/var/www/Educational/node_modules/babel-loader/lib/index.js!/var/www/Educational/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/Educational/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/Educational/src/components/FeedbackComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/Educational/src/components/FeedbackComponent.vue","mtime":1610771092287},{"path":"/var/www/Educational/node_modules/cache-loader/dist/cjs.js","mtime":1610683474386},{"path":"/var/www/Educational/node_modules/babel-loader/lib/index.js","mtime":1610683474074},{"path":"/var/www/Educational/node_modules/cache-loader/dist/cjs.js","mtime":1610683474386},{"path":"/var/www/Educational/node_modules/vue-loader/lib/index.js","mtime":1610683475702}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVlQXhpb3MgZnJvbSAidnVlLWF4aW9zIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdmFsaWRhdGlvbk1peGluIH0gZnJvbSAidnVlbGlkYXRlIjsKaW1wb3J0IHsgcmVxdWlyZWQsIGVtYWlsLCBtYXhMZW5ndGggfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwpWdWUudXNlKFZ1ZUF4aW9zLCBheGlvcyk7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFt2YWxpZGF0aW9uTWl4aW5dLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogbnVsbCwKICAgICAgZW1haWw6IG51bGwsCiAgICAgIHRleHQ6IG51bGwsCiAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgZXJyb3I6IGZhbHNlCiAgICB9OwogIH0sCgogIHZhbGlkYXRpb25zOiB7CiAgICBuYW1lOiB7CiAgICAgIHJlcXVpcmVkCiAgICB9LAogICAgZW1haWw6IHsKICAgICAgZW1haWwsCiAgICAgIHJlcXVpcmVkCiAgICB9LAogICAgdGV4dDogewogICAgICByZXF1aXJlZCwKICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMTAyNCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlU3RhdGVOYW1lKCkgewogICAgICBjb25zdCB7CiAgICAgICAgJGRpcnR5LAogICAgICAgICRlcnJvcgogICAgICB9ID0gdGhpcy4kdi5uYW1lOwogICAgICByZXR1cm4gJGRpcnR5ID8gISRlcnJvciA6IG51bGw7CiAgICB9LAoKICAgIHZhbGlkYXRlU3RhdGVFbWFpbCgpIHsKICAgICAgY29uc3QgewogICAgICAgICRkaXJ0eSwKICAgICAgICAkZXJyb3IKICAgICAgfSA9IHRoaXMuJHYuZW1haWw7CiAgICAgIHJldHVybiAkZGlydHkgPyAhJGVycm9yIDogbnVsbDsKICAgIH0sCgogICAgdmFsaWRhdGVTdGF0ZVRleHQoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICAkZGlydHksCiAgICAgICAgJGVycm9yCiAgICAgIH0gPSB0aGlzLiR2LnRleHQ7CiAgICAgIHJldHVybiAkZGlydHkgPyAhJGVycm9yIDogbnVsbDsKICAgIH0sCgogICAgc2VuZE1lc3MoKSB7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICBpZiAodGhpcy4kdi4kYW55RXJyb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZW1haWwvc2VuZCIsIHsKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICB0ZXh0OiB0aGlzLnRleHQsCiAgICAgICAgbmFtZTogdGhpcy5uYW1lCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZygicmVzcG9uc2UuSlNPTjoiLCByZXMuZGF0YSk7CiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBpZiAoZXJyLnJlcykgewogICAgICAgICAgdGhpcy4kdi4kdG91Y2goKTsKICAgICAgICB9IGVsc2UgaWYgKGVyci5yZXF1ZXN0KSB7CiAgICAgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["FeedbackComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,QAAA,MAAA,WAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,SACA,eADA,QAEA,WAFA;AAGA,SACA,QADA,EAEA,KAFA,EAGA,SAHA,QAIA,0BAJA;AAMA,GAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,CADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA,IAHA;AAIA,MAAA,MAAA,EAAA,IAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAVA;;AAYA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AACA,MAAA,KADA;AAEA,MAAA;AAFA,KAJA;AAQA,IAAA,IAAA,EAAA;AACA,MAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,IAAA;AAFA;AARA,GAZA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,iBAAA,GAAA;AACA,YAAA;AACA,QAAA,MADA;AAEA,QAAA;AAFA,UAGA,KAAA,EAAA,CAAA,IAHA;AAIA,aAAA,MAAA,GAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAPA;;AASA,IAAA,kBAAA,GAAA;AACA,YAAA;AACA,QAAA,MADA;AAEA,QAAA;AAFA,UAGA,KAAA,EAAA,CAAA,KAHA;AAIA,aAAA,MAAA,GAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAfA;;AAiBA,IAAA,iBAAA,GAAA;AACA,YAAA;AACA,QAAA,MADA;AAEA,QAAA;AAFA,UAGA,KAAA,EAAA,CAAA,IAHA;AAIA,aAAA,MAAA,GAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAvBA;;AAyBA,IAAA,QAAA,GAAA;AACA,WAAA,EAAA,CAAA,MAAA;;AACA,UAAA,KAAA,EAAA,CAAA,SAAA,EAAA;AACA;AACA;;AAEA,MAAA,KAAA,CACA,IADA,CACA,sCADA,EACA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,IAAA,EAAA,KAAA;AAHA,OADA,EAMA,IANA,CAMA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,GAAA,CAAA,IAAA;AAEA,aAAA,MAAA,GAAA,KAAA;AACA,OAVA,EAWA,KAXA,CAWA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,GAAA,EAAA;AACA,eAAA,EAAA,CAAA,MAAA;AACA,SAFA,MAEA,IAAA,GAAA,CAAA,OAAA,EAAA;AACA,eAAA,MAAA,GAAA,KAAA;AACA,eAAA,KAAA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAnBA;AAoBA;;AAnDA;AA1BA,CAAA","sourcesContent":["<template>\n<b-container class=\"align-self-center text-center mb-5\">\n    <b-row class=\"justify-content-center pb-3\">\n        <b-col md=\"6\" cols=\"12\">\n            <h1>Ещё остались вопросы?</h1>\n        </b-col>\n    </b-row>\n    <template v-if=\"isShow\">\n        <b-row class=\"justify-content-center\">\n            <b-col md=\"6\" cols=\"12\">\n                <p>\n                    Оставьте свои контактные данные, для того, чтобы мы смогли с Вами\n                    связаться\n                </p>\n            </b-col>\n        </b-row>\n        <b-row class=\"justify-content-center pb-4\">\n            <b-col cols=\"12\" md=\"6\">\n                <div>\n                    <b-form @submit.prevent=\"sendMess()\">\n                        <b-form-group>\n                            <b-form-input type=\"text\" placeholder=\"Ваше имя...\" aria-describedby=\"input-feedback-name\" v-model.trim=\"$v.name.$model\" :state=\"validateStateName('name')\">\n                            </b-form-input>\n                            <b-form-invalid-feedback class=\"text-left\" id=\"input-feedback-name\">\n                                Это поле является обязательным\n                            </b-form-invalid-feedback>\n                        </b-form-group>\n                        <b-form-group>\n                            <b-form-input placeholder=\"Ваш email...\" aria-describedby=\"input-feedback-email\" type=\"email\" v-model.trim=\"$v.email.$model\" :state=\"validateStateEmail('email')\"></b-form-input>\n                            <b-form-invalid-feedback class=\"text-left\" id=\"input-feedback-email\">\n                                Это поле должно быть email и обязательным\n                            </b-form-invalid-feedback>\n                        </b-form-group>\n                        <b-form-textarea placeholder=\"Ваши вопросы...\" aria-describedby=\"input-feedback-text\" rows=\"6\" no-resize v-model.trim=\"$v.text.$model\" :state=\"validateStateText('text')\"></b-form-textarea>\n                        <b-form-invalid-feedback class=\"text-left\" id=\"input-feedback-text\">\n                            Это поле является обязательным и быть не более 1024 символов\n                        </b-form-invalid-feedback>\n                        <div class=\"mt-3\">\n                            <b-button type=\"submit\" block variant=\"secondary\" @click.prevent=\"sendMess\" :disabled=\"$v.$anyError\">Отправить</b-button>\n                        </div>\n                    </b-form>\n                </div>\n            </b-col>\n        </b-row>\n    </template>\n    <template v-else-if=\"error\">\n        <b-alert show variant=\"danger\">\n            <h4 class=\"alert-heading\">Ошибка!</h4>\n            <p>Внимание! Возникла ошибка, вернитесь на сайт чуть позже!</p>\n        </b-alert>\n    </template>\n    <template v-else>\n        <b-alert show variant=\"success\">\n            <h4 class=\"alert-heading\">Спасибо за сообщение!</h4>\n            <p>Мы постараемся связаться с Вами в ближайшее время!</p>\n        </b-alert>\n    </template>\n</b-container>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VueAxios from \"vue-axios\";\nimport axios from \"axios\";\n\nimport {\n    validationMixin\n} from \"vuelidate\";\nimport {\n    required,\n    email,\n    maxLength\n} from \"vuelidate/lib/validators\";\n\nVue.use(VueAxios, axios);\nexport default {\n    mixins: [validationMixin],\n    data() {\n        return {\n            name: null,\n            email: null,\n            text: null,\n            isShow: true,\n            error: false,\n        };\n    },\n\n    validations: {\n        name: {\n            required,\n        },\n        email: {\n            email,\n            required,\n        },\n        text: {\n            required,\n            maxLength: maxLength(1024),\n        },\n    },\n\n    methods: {\n        validateStateName() {\n            const {\n                $dirty,\n                $error\n            } = this.$v.name;\n            return $dirty ? !$error : null;\n        },\n\n        validateStateEmail() {\n            const {\n                $dirty,\n                $error\n            } = this.$v.email;\n            return $dirty ? !$error : null;\n        },\n\n        validateStateText() {\n            const {\n                $dirty,\n                $error\n            } = this.$v.text;\n            return $dirty ? !$error : null;\n        },\n\n        sendMess() {\n            this.$v.$touch();\n            if (this.$v.$anyError) {\n                return;\n            }\n\n            axios\n                .post(\"http://localhost:3000/api/email/send\", {\n                    email: this.email,\n                    text: this.text,\n                    name: this.name,\n                })\n                .then((res) => {\n                    console.log(\"response.JSON:\", res.data);\n\n                    this.isShow = false;\n                })\n                .catch((err) => {\n                    if (err.res) {\n                        this.$v.$touch();\n                    } else if (err.request) {\n                        this.isShow = false;\n                        this.error = true;\n                        console.log(\"error\");\n                    }\n                });\n        },\n    },\n};\n</script>\n"],"sourceRoot":"src/components"}]}